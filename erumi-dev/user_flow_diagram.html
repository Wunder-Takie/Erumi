<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erumi ìœ ì € í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
            padding: 30px;
            color: #fff;
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2rem;
        }

        h2 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1rem;
            color: #9ca3af;
            font-weight: normal;
        }

        .mermaid {
            background: #fff;
            border-radius: 20px;
            padding: 40px;
            margin: 0 auto;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);
            overflow-x: auto;
        }

        .section {
            margin-top: 40px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .section h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #60a5fa;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            overflow: hidden;
        }

        th,
        td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            background: rgba(255, 255, 255, 0.1);
            font-weight: 600;
        }

        td:first-child {
            font-family: monospace;
            color: #fbbf24;
        }

        .step-num {
            display: inline-block;
            width: 24px;
            height: 24px;
            background: #6366f1;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-size: 0.8rem;
            margin-right: 8px;
        }
    </style>
</head>

<body>
    <h1>ğŸš€ Erumi ìœ ì € í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨</h1>
    <h2>ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ íë¥´ëŠ” ì´ë¦„ ìƒì„± ê³¼ì •</h2>

    <div class="mermaid">
        flowchart LR
        subgraph STEP1["1ï¸âƒ£ ì‚¬ìš©ì ì…ë ¥"]
        A1["ğŸ‘¤ ì„±ì”¨ ì…ë ¥"]
        A2["ğŸ“… ìƒë…„ì›”ì¼"]
        A3["â° íƒœì–´ë‚œ ì‹œ"]
        A4["âœ¨ ì„ í˜¸ ìŠ¤íƒ€ì¼"]
        end

        subgraph STEP2["2ï¸âƒ£ ì‚¬ì£¼ ê³„ì‚°"]
        B1["sajuUtils.js<br />calculateSaju()"]
        B2["kasiAdapter.js<br />KASI API"]
        B3["saju_data.json<br />ë¡œì»¬ í´ë°±"]
        end

        subgraph STEP3["3ï¸âƒ£ í›„ë³´ ìƒì„±"]
        C1["namingUtils.js<br />generateNames()"]
        C2["hanja_db.json<br />í•œì DB"]
        C3["surnames.json<br />ì„±ì”¨ íšìˆ˜"]
        end

        subgraph STEP4["4ï¸âƒ£ í•„í„°ë§"]
        D1["critical_blocks<br />ì™„ì „ ì°¨ë‹¨"]
        D2["bunpa_characters<br />ë¶„íŒŒ ì²´í¬"]
        D3["phonetic_rules<br />ë°œìŒ ê·œì¹™"]
        D4["modern_preferences<br />í˜„ëŒ€ì„± í•„í„°"]
        end

        subgraph STEP5["5ï¸âƒ£ ì ìˆ˜ ê³„ì‚°"]
        E1["suriPatterns.js<br />4ê²© ìˆ˜ë¦¬"]
        E2["pronunciationUtils.js<br />ë°œìŒ ì˜¤í–‰"]
        E3["globalNameCheck.js<br />ì˜ì–´ ë°œìŒ"]
        E4["name_popularity.json<br />ì¸ê¸°ë„"]
        end

        subgraph STEP6["6ï¸âƒ£ ê²°ê³¼ ì¶œë ¥"]
        F1["narrativeUtils.js<br />ìŠ¤í† ë¦¬ ìƒì„±"]
        F2["llmEvaluator.js<br />LLM í‰ê°€"]
        F3["NameReport.tsx<br />UI ë Œë”ë§"]
        end

        A1 & A2 & A3 & A4 --> B1
        B1 --> B2
        B2 -.->|"API ì‹¤íŒ¨"| B3
        B1 & B2 & B3 --> C1
        C1 --> C2 & C3
        C2 & C3 --> D1 & D2 & D3 & D4
        D1 & D2 & D3 & D4 --> E1 & E2 & E3 & E4
        E1 & E2 & E3 & E4 --> F1 & F2
        F1 & F2 --> F3
    </div>

    <div class="section">
        <h3>ğŸ“‹ ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…</h3>
        <table>
            <tr>
                <th>ë‹¨ê³„</th>
                <th>íŒŒì¼</th>
                <th>ì—­í• </th>
            </tr>
            <tr>
                <td><span class="step-num">1</span> ì…ë ¥</td>
                <td>UserFlow.tsx, StoryApp.tsx</td>
                <td>ì‚¬ìš©ìë¡œë¶€í„° ì„±ì”¨, ìƒë…„ì›”ì¼, ì‹œê°„, ìŠ¤íƒ€ì¼ ì„ í˜¸ë„ ìˆ˜ì§‘</td>
            </tr>
            <tr>
                <td><span class="step-num">2</span> ì‚¬ì£¼</td>
                <td>sajuUtils.js â†’ kasiAdapter.js</td>
                <td>KASI APIë¡œ ì •ë°€ ì‚¬ì£¼ ê³„ì‚°, ì‹¤íŒ¨ ì‹œ ë¡œì»¬ ê³„ì‚° í´ë°±</td>
            </tr>
            <tr>
                <td><span class="step-num">3</span> í›„ë³´</td>
                <td>namingUtils.js + hanja_db.json</td>
                <td>í•œì DBì—ì„œ ì¡°ê±´ì— ë§ëŠ” ì´ë¦„ í›„ë³´ ~800ê°œ ìƒì„±</td>
            </tr>
            <tr>
                <td><span class="step-num">4</span> í•„í„°</td>
                <td>modern_preferences.json, phonetic_rules.json</td>
                <td>ë¶€ì ì ˆí•œ ì´ë¦„ ì°¨ë‹¨, ë°œìŒ ê·œì¹™ ì ìš©, ë¶„íŒŒ ì²´í¬</td>
            </tr>
            <tr>
                <td><span class="step-num">5</span> ì ìˆ˜</td>
                <td>suriPatterns.js, pronunciationUtils.js</td>
                <td>9ê°œ ìš”ì†Œ ê¸°ë°˜ ì¢…í•© ì ìˆ˜ ê³„ì‚° (0~100ì )</td>
            </tr>
            <tr>
                <td><span class="step-num">6</span> ì¶œë ¥</td>
                <td>narrativeUtils.js â†’ NameReport.tsx</td>
                <td>ìŠ¤í† ë¦¬ í…ìŠ¤íŠ¸ ìƒì„± + UI ë Œë”ë§</td>
            </tr>
        </table>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                curve: 'basis',
                padding: 15,
                nodeSpacing: 30,
                rankSpacing: 50
            }
        });
    </script>
</body>

</html>